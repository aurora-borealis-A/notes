# sed概述

sed是”stream editor“的缩写，文本流工具。

sed处理文本时**以行为单位**进行处理，工作流程是：

- 读取文本内容到**内存**中。
- 根据指定的条件**按行筛选**内存中的文本内容。
- 对符合规则的行进行处理，然后打印处理后的行。
  - 对不符合规则的文本不进行处理，但是也打印输出，称之为默认输出。

**注意：**

- 默认sed处理的是内存中的数据，并不改变文件中的内容。
- 文本文件每行都会被sed读取，无论是否满足条件，都会被打印到命令行窗口中。

# 使用方法

格式：

```bash
sed [选项] [sed内置命令字符] [输入文件]
```

选项：

- `-n`：取消默认输出。常常与sed内置命令p联用。
- `-i`：把处理结果直接写入文件（默认修改的内容是内存中的内容），而不是打印到命令行窗口中。
- `-e`：多次编辑，可以代替管道符。
- `-r`：正则扩展。

sed内置命令字符：

- `a`：append，追加一行。
- `d`：delete，删除一行。
- `i`：insert，插入一行。
- `p`：print，打印匹配的行。
- `s/正则/替换内容/g`：substitute，查找替换。

匹配范围：

- 空地址：全文处理。
- 单地址：指定文件某一行。
- /pattern/：被模式匹配到的某一行。
- 范围区间：10,20（表示10-20行）、10,+5（表示第10行即之后的5行）、/pattern1/,/pattern1/
- 步长：1~2（表示奇数行）、2 ~ 2（表示偶数行）。