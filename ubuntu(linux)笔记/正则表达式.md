# 字符集合

用 "[ ]"括起来的字符，为可能的字符，这些可能的单个字符的集合称为字符集合

例如：

```bash
[abc]  # 匹配a、b、c
g[abc]t  # 匹配gat、gbt、gct
g[a-z]t  # 匹配gat、gbt、……、gzt
g[a-dz]t  # 匹配gat、……、gdt、gdt
[^a-z]  # 匹配 除了a、……、z之外的字符
```

注意：

- 字符集合的元素只能是**单个字符**，如果是多个字符，就另外想办法

# 限定符

指定限定符前的字符出现的次数

常用限定符：*、+、？、{}

- *：表示出现0次或多次，即：**任意次数**
- +：表示出现1次及以上
- ？：表示出现0次或1次
- {2}：表示出现2次
- {2,}：表示出现2次及以上
- {2,5}：表示出现2次至5次之间

例如：

有一段文本：

> god good goood2g goldengold

```bash
go+d  # 匹配文本中的 god，good，goood
g[a-z]+d  # 匹配文本中的 god、good、goood、goldengold
```

# 定位符

表示标记匹配位置

- ^：表示字符串开始（行开头）
- $：表示字符串结束（行结尾）
- /b：表示单词边界
- /B：表示非单词边界

例如：

有一段文本：

> 88815267674955666
>
> 15267674955

匹配11位手机号码

```bash
# 不加定位符
1[0-9]{10}  # 匹配到 88815267674955666 与 15267674955
^1[0-9]{10}$  # 匹配到 15267674955，匹配不到 88815267674955666
```

# 子表达式

用“( )”括起来的内容称为子表达式，子表达式就是正则表达式的语法，不过子表达式可以看作一个整体

- ()：表示一个子表达式
- |：分割子表达式，相当于或

例如：

```bash
(got)+  # 匹配连续的“got”字符，例如：gotgot、got、gotgotgot
g(e|oas)t  # 匹配 get、goast
g(e|oas)+t  # 匹配 get、goast、geet、goasoast、……
```

子表达式可以作为**预查匹配项**，相当于自定义的定位符。bash中不支持预查匹配项

- (?=)：表示**正向肯定**预查，放在表达式末尾
- (?!)：表示**正向否定**预查，放在表达式末尾
- (?<=)：表示**反向肯定**预查，放在表达式开头
- (?<=)：表示**反向否定**预查，放在表达式开头

例如：

有文本：

> abc、_abc、abc\_、ab\_、ab、cba、\_ab

```assembly
ab(?=c)  # 表示匹配的字符串 以c结尾，匹配到：abc、_abc、abc_
ab(?!c)  # 表示匹配的字符串 不以c结尾，匹配到：ab、ab_
(?<=c)ab  # 表示匹配的字符串 以c开头，匹配到：cab
(?!c)ab  # 表示匹配的字符串 不以c开头，匹配到：_abc、ab_、ab、_ab
```

**上面这个例子没试过，不一定对**

# 省略符

一些其他正则表达式的简写，通常以 "\\" 开头

| 省略符         | 等效表达式    | 说明                                           |
| -------------- | ------------- | ---------------------------------------------- |
| .              | [^\n\r]       | 匹配除换行符（/n、/r）外的所有字符             |
| \d (decimal)   | [0-9]         | 匹配一个数字字符                               |
| \D             | [^0-9]        | 匹配一个非数字字符                             |
| \s (separator) | [\f\n\r\t\v]  | 匹配任何空白字符，包括：空格、制表符和换行符等 |
| \S             | [^\f\n\r\t\v] | 匹配任何非空白字符                             |
| \w             | [a-zA-Z0-9]   | 匹配一个字母、数字、下划线字符                 |
| \W             | [^a-zA-Z0-9]  | 匹配一个非字母、数字、下划线字符               |

# 修饰符

用于指定匹配策略

| 修饰符 | 说明                      |
| ------ | ------------------------- |
| i      | 忽略大小写                |
| g      | 查找所有匹配项            |
| m      | 多行匹配                  |
| s      | 省略符"."的包含换行符"\n" |

**注意：**

- 修饰符不是语法的内容

